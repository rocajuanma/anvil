/*
Copyright Â© 2022 Juanma Roca juanmaxroca@gmail.com

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

	http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

package brew

import "sync"

var (
	// Static map for popular Homebrew packages(https://formulae.brew.sh/analytics) to avoid expensive brew search operations
	knownBrewPackages = map[string]bool{
		// GUI Applications (casks)
		"powershell":                    true,
		"git-credential-manager":        true,
		"microsoft/git/microsoft-git":   true,
		"visual-studio-code":            true,
		"ngrok":                         true,
		"android-platform-tools":        true,
		"iterm2":                        true,
		"google-chrome":                 true,
		"temurin@8":                     true,
		"chromedriver":                  true,
		"firefox":                       true,
		"wine-stable":                   true,
		"google-cloud-sdk":              true,
		"warp":                          true,
		"gstreamer-runtime":             true,
		"ghostty":                       true,
		"postman":                       true,
		"dbeaver-community":             true,
		"android-commandlinetools":      true,
		"macfuse":                       true,
		"cursor":                        true,
		"vlc":                           true,
		"raycast":                       true,
		"xquartz":                       true,
		"docker-desktop":                true,
		"flutter":                       true,
		"stats":                         true,
		"zulu@17":                       true,
		"orbstack":                      true,
		"temurin":                       true,
		"spotify":                       true,
		"1password-cli":                 true,
		"libreoffice":                   true,
		"discord":                       true,
		"miniconda":                     true,
		"rectangle":                     true,
		"obsidian":                      true,
		"maccy":                         true,
		"slack":                         true,
		"bruno":                         true,
		"microsoft-auto-update":         true,
		"brave-browser":                 true,
		"zoom":                          true,
		"dotnet-sdk":                    true,
		"chromium":                      true,
		"font-hack-nerd-font":           true,
		"zed":                           true,
		"anaconda":                      true,
		"librewolf":                     true,
		"alt-tab":                       true,
		"chatgpt":                       true,
		"nikitabobko/tap/aerospace":     true,
		"sublime-text":                  true,
		"rar":                           true,
		"temurin@17":                    true,
		"android-studio":                true,
		"mitmproxy":                     true,
		"gcloud-cli":                    true,
		"notion":                        true,
		"pgadmin4":                      true,
		"db-browser-for-sqlite":         true,
		"kitty":                         true,
		"podman-desktop":                true,
		"betterdisplay":                 true,
		"microsoft-teams":               true,
		"mactex":                        true,
		"1password":                     true,
		"whatsapp":                      true,
		"font-meslo-lg-nerd-font":       true,
		"virtualbox":                    true,
		"alacritty":                     true,
		"microsoft-edge":                true,
		"wezterm":                       true,
		"iina":                          true,
		"gimp":                          true,
		"jordanbaird-ice":               true,
		"karabiner-elements":            true,
		"bitwarden":                     true,
		"claude":                        true,
		"session-manager-plugin":        true,
		"utm":                           true,
		"adobe-acrobat-reader":          true,
		"temurin@21":                    true,
		"arc":                           true,
		"font-jetbrains-mono-nerd-font": true,
		"github":                        true,
		"basictex":                      true,
		"steam":                         true,
		"telegram":                      true,
		"obs":                           true,
		"inkscape":                      true,
		"mongodb-compass":               true,
		"font-fira-code-nerd-font":      true,
		"font-fira-code":                true,
		"miniforge":                     true,
		"appcleaner":                    true,
		"vscodium":                      true,
		"signal":                        true,
		"insomnia":                      true,
		"alfred":                        true,
		"claude-code":                   true,

		// Command Line Tools (formulas)
		"openssl@3":         false,
		"ca-certificates":   false,
		"xz":                false,
		"python@3.13":       false,
		"glib":              false,
		"sqlite":            false,
		"harfbuzz":          false,
		"node":              false,
		"gettext":           false,
		"readline":          false,
		"awscli":            false,
		"pcre2":             false,
		"libpng":            false,
		"zstd":              false,
		"libnghttp2":        false,
		"pkgconf":           false,
		"python@3.12":       false,
		"gh":                false,
		"libx11":            false,
		"libunistring":      false,
		"git":               false,
		"mpdecimal":         false,
		"lz4":               false,
		"jpeg-turbo":        false,
		"cmake":             false,
		"ffmpeg":            false,
		"jpeg-xl":           false,
		"pyenv":             false,
		"pango":             false,
		"fontconfig":        false,
		"cairo":             false,
		"gmp":               false,
		"libtiff":           false,
		"pixman":            false,
		"unbound":           false,
		"little-cms2":       false,
		"aom":               false,
		"icu4c@77":          false,
		"gcc":               false,
		"openexr":           false,
		"gnutls":            false,
		"tesseract":         false,
		"icu4c@76":          false,
		"go":                false,
		"c-ares":            false,
		"ncurses":           false,
		"webp":              false,
		"openjdk":           false,
		"protobuf":          false,
		"freetype":          false,
		"libuv":             false,
		"curl":              false,
		"brotli":            false,
		"libxau":            false,
		"zlib":              false,
		"gnupg":             false,
		"libidn2":           false,
		"libtool":           false,
		"libxcb":            false,
		"abseil":            false,
		"llvm":              false,
		"wget":              false,
		"libxrender":        false,
		"imagemagick":       false,
		"nettle":            false,
		"xorgproto":         false,
		"expat":             false,
		"libarchive":        false,
		"libdeflate":        false,
		"krb5":              false,
		"libxext":           false,
		"python-packaging":  false,
		"python@3.11":       false,
		"giflib":            false,
		"sdl2":              false,
		"coreutils":         false,
		"ruby":              false,
		"certifi":           false,
		"libxdmcp":          false,
		"m4":                false,
		"fribidi":           false,
		"cryptography":      false,
		"p11-kit":           false,
		"libpq":             false,
		"oniguruma":         false,
		"libomp":            false,
		"libevent":          false,
		"ruby-build":        false,
		"libtasn1":          false,
		"libheif":           false,
		"openjpeg":          false,
		"rbenv":             false,
		"graphite2":         false,
		"bzip2":             false,
		"x265":              false,
		"boost":             false,
		"imath":             false,
		"jq":                false,
		"libssh2":           false,
		"php":               false,
		"mpg123":            false,
		"leptonica":         false,
		"mbedtls":           false,
		"python@3.10":       false,
		"postgresql@14":     false,
		"kubernetes-cli":    false,
		"gdbm":              false,
		"svt-av1":           false,
		"libgpg-error":      false,
		"mysql":             false,
		"z3":                false,
		"yt-dlp":            false,
		"libvmaf":           false,
		"docker":            false,
		"libsodium":         false,
		"neovim":            false,
		"lzo":               false,
		"xcbeautify":        false,
		"highway":           false,
		"librsvg":           false,
		"libxml2":           false,
		"libffi":            false,
		"uv":                false,
		"watchman":          false,
		"python@3.9":        false,
		"isl":               false,
		"libavif":           false,
		"fzf":               false,
		"mpfr":              false,
		"berkeley-db@5":     false,
		"yq":                false,
		"helm":              false,
		"graphviz":          false,
		"gdk-pixbuf":        false,
		"ghostscript":       false,
		"dbus":              false,
		"autoconf":          false,
		"openldap":          false,
		"rust":              false,
		"mkcert":            false,
		"snappy":            false,
		"libusb":            false,
		"swiftlint":         false,
		"numpy":             false,
		"jasper":            false,
		"libssh":            false,
		"libyaml":           false,
		"openjdk@17":        false,
		"tree-sitter":       false,
		"bash":              false,
		"cocoapods":         false,
		"libvpx":            false,
		"unzip":             false,
		"nvm":               false,
		"ninja":             false,
		"poppler":           false,
		"freetds":           false,
		"libgcrypt":         false,
		"azure-cli":         false,
		"librist":           false,
		"dav1d":             false,
		"binutils":          false,
		"qemu":              false,
		"python-setuptools": false,
		"libedit":           false,
		"netpbm":            false,
		"libass":            false,
		"pipx":              false,
		"libsndfile":        false,
		"libb2":             false,
		"libgit2":           false,
		"git-lfs":           false,
		"glibc":             false,
		"flac":              false,
		"pycparser":         false,
		"folly":             false,
		"srt":               false,
		"docker-compose":    false,
		"automake":          false,
		"mise":              false,
		"nss":               false,
		"eza":               false,
		"cffi":              false,
		"rubberband":        false,
		"fizz":              false,
		"fbthrift":          false,
		"icu4c@75":          false,
		"fb303":             false,
		"redis":             false,
		"libzip":            false,
		"tcl-tk":            false,
		"luajit":            false,
		"docker-completion": false,
		"frei0r":            false,
		"rav1e":             false,
		"openblas":          false,
		"maven":             false,
		"libassuan":         false,
		"edencommon":        false,
		"libmpc":            false,
		"wangle":            false,
		"qt":                false,
		"pinentry":          false,
		"util-linux":        false,
		"tmux":              false,
	}

	// Runtime cache for dynamically discovered package types
	caskCache      = make(map[string]bool)
	caskCacheMutex sync.RWMutex
)
